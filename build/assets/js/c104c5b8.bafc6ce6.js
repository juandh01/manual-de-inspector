"use strict";(self.webpackChunkmi_docu=self.webpackChunkmi_docu||[]).push([[93],{4269:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"memory","title":"Panel Memory (Memoria y Heap)","description":"\ud83d\udcc8 \xbfQu\xe9 es el Panel Memory?","source":"@site/docs/memory.md","sourceDirName":".","slug":"/memory","permalink":"/manual-de-inspector/docs/memory","draft":false,"unlisted":false,"editUrl":"https://github.com/juandh01/manual-de-inspector/docs/memory.md","tags":[],"version":"current","frontMatter":{"id":"memory","title":"Panel Memory (Memoria y Heap)"},"sidebar":"tutorialSidebar","previous":{"title":"Panel Performance (Rendimiento)","permalink":"/manual-de-inspector/docs/performance"},"next":{"title":"Panel Security (Seguridad del sitio)","permalink":"/manual-de-inspector/docs/security"}}');var r=s(4848),a=s(8453);const o={id:"memory",title:"Panel Memory (Memoria y Heap)"},l=void 0,t={},c=[{value:"\ud83d\udcc8 \xbfQu\xe9 es el Panel Memory?",id:"-qu\xe9-es-el-panel-memory",level:2},{value:"\ud83e\uddea \xbfQu\xe9 se puede analizar?",id:"-qu\xe9-se-puede-analizar",level:2},{value:"\ud83d\udcf8 1. Heap Snapshot",id:"-1-heap-snapshot",level:2},{value:"\xbfQu\xe9 muestra?",id:"qu\xe9-muestra",level:3},{value:"\xbfC\xf3mo tomarlo?",id:"c\xf3mo-tomarlo",level:3},{value:"\xbfQu\xe9 buscar?",id:"qu\xe9-buscar",level:3},{value:"\ud83d\udd0d 2. Allocation Instrumentation on Timeline",id:"-2-allocation-instrumentation-on-timeline",level:2},{value:"\xbfC\xf3mo usarlo?",id:"c\xf3mo-usarlo",level:3},{value:"\xbfQu\xe9 muestra?",id:"qu\xe9-muestra-1",level:3},{value:"\ud83d\udcca 3. Allocation Timeline",id:"-3-allocation-timeline",level:2},{value:"\ud83d\udca1 Tipos de memoria",id:"-tipos-de-memoria",level:2},{value:"\ud83d\udee0 C\xf3mo detectar fugas de memoria",id:"-c\xf3mo-detectar-fugas-de-memoria",level:2},{value:"\ud83e\uddf0 Funciones \xfatiles en consola",id:"-funciones-\xfatiles-en-consola",level:2},{value:"\ud83c\udf81 Tips pro",id:"-tips-pro",level:2},{value:"\ud83e\udde0 \xbfPor qu\xe9 usarlo?",id:"-por-qu\xe9-usarlo",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"-qu\xe9-es-el-panel-memory",children:"\ud83d\udcc8 \xbfQu\xe9 es el Panel Memory?"}),"\n",(0,r.jsxs)(n.p,{children:["El panel ",(0,r.jsx)(n.strong,{children:"Memory"})," sirve para ",(0,r.jsx)(n.strong,{children:"analizar el uso de memoria"})," de una p\xe1gina web. Es ideal para detectar ",(0,r.jsx)(n.strong,{children:"fugas de memoria (memory leaks)"}),", ver cu\xe1nta memoria consumen tus objetos JavaScript, y entender c\xf3mo se comporta el heap del navegador con el tiempo."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83e\udde0 Si tu sitio se vuelve m\xe1s lento mientras lo us\xe1s, probablemente haya una fuga de memoria. Este panel te ayuda a encontrarla."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-qu\xe9-se-puede-analizar",children:"\ud83e\uddea \xbfQu\xe9 se puede analizar?"}),"\n",(0,r.jsxs)(n.p,{children:["El panel ofrece ",(0,r.jsx)(n.strong,{children:"tres herramientas principales"}),", cada una para un tipo distinto de an\xe1lisis:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Herramienta"}),(0,r.jsx)(n.th,{children:"\xbfPara qu\xe9 sirve?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Heap Snapshot"})}),(0,r.jsx)(n.td,{children:"Toma una \u201cfoto\u201d del heap para ver qu\xe9 objetos existen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Allocation instrumentation"})}),(0,r.jsx)(n.td,{children:"Muestra qu\xe9 funci\xf3n o script est\xe1 creando m\xe1s objetos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Allocation timeline"})}),(0,r.jsx)(n.td,{children:"Graba la asignaci\xf3n de memoria a lo largo del tiempo"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Vamos una por una."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-1-heap-snapshot",children:"\ud83d\udcf8 1. Heap Snapshot"}),"\n",(0,r.jsx)(n.p,{children:"Un snapshot es una \u201cfoto congelada\u201d de la memoria del navegador en un momento dado."}),"\n",(0,r.jsx)(n.h3,{id:"qu\xe9-muestra",children:"\xbfQu\xe9 muestra?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Todos los objetos que existen en ese instante"}),"\n",(0,r.jsx)(n.li,{children:"Su tipo (objeto, array, closure, string, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Cu\xe1nto pesan en bytes"}),"\n",(0,r.jsx)(n.li,{children:"Cu\xe1ntas referencias entrantes/salientes tienen"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"c\xf3mo-tomarlo",children:"\xbfC\xf3mo tomarlo?"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Ir a ",(0,r.jsx)(n.strong,{children:"Memory"})," \u2192 seleccionar ",(0,r.jsx)(n.code,{children:"Heap snapshot"})]}),"\n",(0,r.jsxs)(n.li,{children:["Hacer clic en ",(0,r.jsx)(n.strong,{children:"Take snapshot"})]}),"\n",(0,r.jsx)(n.li,{children:"Esperar unos segundos\u2026 se genera un \xe1rbol visual"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"qu\xe9-buscar",children:"\xbfQu\xe9 buscar?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Objetos que no deber\xedan seguir existiendo (ej: listeners o referencias a DOM eliminados)"}),"\n",(0,r.jsx)(n.li,{children:"Objetos que crecen en cantidad con cada interacci\xf3n"}),"\n",(0,r.jsx)(n.li,{children:"Strings duplicados, arrays infinitos, closures que retienen demasiadas variables"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udd0d Us\xe1 filtros como \u201cObjects allocated between snapshots\u201d para ver qu\xe9 fue creciendo."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-2-allocation-instrumentation-on-timeline",children:"\ud83d\udd0d 2. Allocation Instrumentation on Timeline"}),"\n",(0,r.jsxs)(n.p,{children:["Este modo muestra ",(0,r.jsx)(n.strong,{children:"qu\xe9 scripts est\xe1n creando m\xe1s objetos"})," y en qu\xe9 momento."]}),"\n",(0,r.jsx)(n.h3,{id:"c\xf3mo-usarlo",children:"\xbfC\xf3mo usarlo?"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Seleccion\xe1 ",(0,r.jsx)(n.code,{children:"Allocation instrumentation on timeline"})]}),"\n",(0,r.jsxs)(n.li,{children:["Hac\xe9 clic en ",(0,r.jsx)(n.strong,{children:"Start"})]}),"\n",(0,r.jsx)(n.li,{children:"Interactu\xe1 con tu p\xe1gina normalmente"}),"\n",(0,r.jsxs)(n.li,{children:["Hac\xe9 clic en ",(0,r.jsx)(n.strong,{children:"Stop"})]}),"\n",(0,r.jsx)(n.li,{children:"Aparecer\xe1 una l\xednea de tiempo con picos de asignaci\xf3n de memoria"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"qu\xe9-muestra-1",children:"\xbfQu\xe9 muestra?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Asignaciones por funci\xf3n o script"}),"\n",(0,r.jsx)(n.li,{children:"Cu\xe1nto se asign\xf3 en cada intervalo de tiempo"}),"\n",(0,r.jsx)(n.li,{children:"Qu\xe9 objetos quedaron vivos despu\xe9s del GC (garbage collector)"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83e\udde0 Muy \xfatil para detectar si una funci\xf3n \u201cfamosa\u201d est\xe1 creando objetos cada vez que la us\xe1s (y no los libera)."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-3-allocation-timeline",children:"\ud83d\udcca 3. Allocation Timeline"}),"\n",(0,r.jsx)(n.p,{children:"Una alternativa visual que graba la asignaci\xf3n de objetos durante un tiempo."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Se ve un gr\xe1fico continuo del uso de memoria"}),"\n",(0,r.jsx)(n.li,{children:"Pod\xe9s hacer zoom y analizar secciones espec\xedficas"}),"\n",(0,r.jsxs)(n.li,{children:["Ideal para detectar crecimiento continuo = ",(0,r.jsx)(n.strong,{children:"leak"})," en progreso"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-tipos-de-memoria",children:"\ud83d\udca1 Tipos de memoria"}),"\n",(0,r.jsx)(n.p,{children:"El heap est\xe1 dividido en secciones (en la pesta\xf1a \u201cSummary\u201d de snapshot):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shallow size"}),": memoria usada directamente por ese objeto"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retained size"}),": memoria que se mantendr\xeda ocupada si ese objeto no se libera"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Distance"}),": cu\xe1ntos pasos hay desde el objeto ra\xedz (",(0,r.jsx)(n.code,{children:"window"}),") hasta ese objeto"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dominators"}),': objetos que "retienen" otros en memoria']}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83e\udde0 Si un objeto tiene ",(0,r.jsx)(n.code,{children:"retained size"})," grande pero ya no se usa, probablemente es una fuga."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-c\xf3mo-detectar-fugas-de-memoria",children:"\ud83d\udee0 C\xf3mo detectar fugas de memoria"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Tom\xe1 un snapshot inicial"}),"\n",(0,r.jsx)(n.li,{children:"Interactu\xe1 con la web (abr\xed/cerr\xe1 modales, carg\xe1 datos)"}),"\n",(0,r.jsx)(n.li,{children:"Tom\xe1 otro snapshot"}),"\n",(0,r.jsx)(n.li,{children:"Compar\xe1 \u2192 \xbfhay objetos que siguen creciendo?"}),"\n",(0,r.jsxs)(n.li,{children:["Repet\xed el proceso. Si ves crecimiento constante en objetos que ",(0,r.jsx)(n.em,{children:"deber\xedan desaparecer"}),", ten\xe9s una fuga."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udccd Tip: prest\xe1 atenci\xf3n a listeners, referencias al DOM que no se eliminan, arrays acumulativos y datos en closures."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funciones-\xfatiles-en-consola",children:"\ud83e\uddf0 Funciones \xfatiles en consola"}),"\n",(0,r.jsxs)(n.p,{children:["Desde la pesta\xf1a ",(0,r.jsx)(n.strong,{children:"Console"}),", pod\xe9s ayudar al an\xe1lisis con funciones como:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"performance.memory\r\n// Muestra uso actual del heap\r\n\r\nwindow.gc()\r\n// Fuerza recolecci\xf3n de basura (solo si el flag --js-flags=--expose-gc est\xe1 activo)\r\n\r\ndebug(fn)\r\n// Pausa ejecuci\xf3n cada vez que se llama la funci\xf3n\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-tips-pro",children:"\ud83c\udf81 Tips pro"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Activ\xe1 ",(0,r.jsx)(n.code,{children:"Record Allocation Stack"})," para ver qu\xe9 funci\xf3n crea cada objeto"]}),"\n",(0,r.jsxs)(n.li,{children:["Busc\xe1 objetos con ",(0,r.jsx)(n.code,{children:"Detached"})," (nodos DOM hu\xe9rfanos a\xfan en memoria)"]}),"\n",(0,r.jsxs)(n.li,{children:["Us\xe1 ",(0,r.jsx)(n.code,{children:"Comparison"})," para comparar dos snapshots"]}),"\n",(0,r.jsxs)(n.li,{children:["Orden\xe1 por ",(0,r.jsx)(n.code,{children:"retained size"})," para encontrar sospechosos"]}),"\n",(0,r.jsx)(n.li,{children:"Export\xe1 snapshots para an\xe1lisis externo si tu sitio es grande"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-por-qu\xe9-usarlo",children:"\ud83e\udde0 \xbfPor qu\xe9 usarlo?"}),"\n",(0,r.jsxs)(n.p,{children:["Porque el navegador ",(0,r.jsx)(n.strong,{children:"no limpia todo por s\xed solo"}),", y si tu sitio crece en memoria, ",(0,r.jsx)(n.strong,{children:"tu experiencia se vuelve lenta, inestable y rota"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Este panel te permite:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Confirmar si hay leaks de memoria"}),"\n",(0,r.jsx)(n.li,{children:"Encontrar su origen exacto"}),"\n",(0,r.jsx)(n.li,{children:"Optimizar el uso del heap"}),"\n",(0,r.jsx)(n.li,{children:"Mejorar la performance sostenida del sitio"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udc80 Las fugas no matan al principio\u2026 pero matan lento. Este panel te avisa antes del desastre."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(6540);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);